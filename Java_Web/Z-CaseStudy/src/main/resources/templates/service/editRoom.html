<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout :: head">
    <meta charset="UTF-8">
    <title>Edit Service </title>
</head >
<body >
<div th:replace="layout :: title"> </div>
<div th:replace="layout :: columnLeft"> </div>

<div class="column middle">
    <a href="/menu" style="color: black">Back to Menu</a>
    <a href="/services" style="color: black">List Service</a>
    <h1>Edit Service</h1>


    <form th:action="@{/editService}" th:object="${service}" method="post">
        <input th:type="hidden" name="id" th:field="*{id}">
        <!--    <input th:type="hidden" name="id" th:field="*{image_id}">-->
        <table>
            <tr>
                <td>Name:</td>
                <td><input type="text" th:field="*{name}"></td>
            </tr>
            <tr>
                <td>AreaUsed:</td>
                <td><input type="text" th:field="*{areaUsed}"></td>
            </tr>
            <tr>
                <td>Amount:</td>
                <td><input type="text" th:field="*{amount}"></td>
            </tr>
            <tr>
                <td>Maximum_people:</td>
                <td><input type="text" th:field="*{maximumPeople}"></td>
            </tr>
            <tr>
                <td>RentType:</td>
                <td>
                    <select th:field="*{rentType}" >
                        <option th:each="r:${rentTypes}" th:value="${r.id}" th:text="${r.name}"></option>
                    </select>
                </td>
            </tr>

            <tr>
                <td>ServiceType:</td>
                <td>
                    <select th:field="*{serviceType}" onchange="change(this)">
                        <option th:each="s:${serviceTypes}" th:value="${s.id}" th:text="${s.name}"></option>
                    </select>
                </td>
            </tr>

            <tr name="VillaHouse" style="display: none">
                <td>RoomStandard:</td>
                <td><input type="text" th:field="*{roomStandard}"></td>
            </tr >
            <tr name="VillaHouse" style="display: none">
                <td>OtherConvenienceDescription:</td>
                <td><input type="text" th:field="*{otherConvenienceDescription}"></td>
            </tr>
            <tr name="VillaHouse" style="display: none">
                <td>FloorAmount:</td>
                <td><input type="text" th:field="*{floorAmount}"></td>
            </tr>
            <tr name="Villa" style="display: none">
                <td>PoolArea:</td>
                <td><input type="text" th:field="*{poolArea}"></td>
            </tr>

            <tr name="Room" style="display: block">
                <td>FreeAccompanyService:</td>
                <td><input type="text" th:field="*{freeAccompanyService}"></td>
            </tr>

            <tr>
                <td><input type="submit" value="Edit Service"></td>
            </tr>
        </table>
    </form>
</div>
<div th:replace="layout :: columnRight"> </div>

<script>
    function change(obj) {
        var value=obj.value;
        if(value==="Villa"){
            let showVillaHouse=document.getElementsByName("VillaHouse");
            for(let i=0;i<showVillaHouse.length;i++){
                showVillaHouse[i].style.display="block";
            }
            let showVilla = document.getElementsByName("Villa");
            for (let i = 0; i < showVilla.length; i++) {
                showVilla[i].style.display = "block";
            }
            let showRoom = document.getElementsByName("Room");
            for (let i = 0; i < showRoom.length; i++) {
                showRoom[i].style.display = "none";
            }

        }else if (value === "House") {
            let showVillaHouse=document.getElementsByName("VillaHouse");
            for(let i=0;i<showVillaHouse.length;i++){
                showVillaHouse[i].style.display="block";
            }
            let showVilla=document.getElementsByName("Villa");
            for(let i=0;i<showVilla.length;i++){
                showVilla[i].style.display="none";
            }
            let showRoom = document.getElementsByName("Room");
            for (let i = 0; i < showRoom.length; i++) {
                showRoom[i].style.display = "none";
            }
        } else {
            let showRoom = document.getElementsByName("Room");
            for (let i = 0; i < showRoom.length; i++) {
                showRoom[i].style.display = "block";
            }
            let showVillaHouse=document.getElementsByName("VillaHouse");
            for(let i=0;i<showVillaHouse.length;i++){
                showVillaHouse[i].style.display="none";
            }
            let showVilla=document.getElementsByName("Villa");
            for(let i=0;i<showVilla.length;i++){
                showVilla[i].style.display="none";
            }

        }
    }
</script>
</body>
</html>